{% extends "layout.html" %}

{% block content %}
<main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <section id="breadcrumbs" class="breadcrumbs">
        <div class="container">

            <div class="d-flex justify-content-between align-items-center">
                <h2>Pedidos</h2>
            </div>

        </div>
    </section><!-- End Breadcrumbs -->
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <div class="alert alert-warning" role="alert">
        {{ messages[0] }}.</a>.
    </div>
    {% endif %}
    {% endwith %}

    <!-- ======= Contact Section ======= -->
    <section>
        <div class="container">
          <table>
            <thead>
              <tr>
                <th>Compra ID</th>
                <th>Fecha de Compra</th>
                <th>Usuario ID</th>
                <th>Usuario Nombre</th>
                <th>Producto Nombre</th>
                <th>Cantidad</th>
                <th>Costo</th>
                <th>Subtotal</th>
              </tr>
            </thead>
            <tbody>
              {% for compra_id, detalles in detalles_por_compra.items() %}
              <tr>
                <td>{{ compra_id }}</td>
                {% for detalle in detalles %}
                <td>{{ detalle.fechaCompra }}</td>
                <td>{{ detalle.UsuarioID }}</td>
                <td>{{ detalle.UsuarioNombre }}</td>
                <td>{{ detalle.ProductoNombre }}</td>
                <td>{{ detalle.cantidad }}</td>
                <td>{{ detalle.costo }}</td>
                <td>{{ detalle.subtotal }}</td>
                </tr><tr>
                <td></td>
                {% endfor %}
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      
    
    
      

</main><!-- End #main -->
{% endblock %}